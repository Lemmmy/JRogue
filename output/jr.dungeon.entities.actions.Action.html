<HTML>
<HEAD>
<TITLE>JDocCoverage Report - 14-Mar-2017 09:54:02</TITLE>
<link rel='stylesheet' type='text/css' href='default.css'>
</HEAD>
<BODY>
<TABLE cellspacing='0' class='header'><TR><TD class='title'>JDocCoverage Report - 14-Mar-2017 09:54:02</TD></TR>
<TR><TD class='menu'><a class='menu' href='index.html'>Overview</a> | <a class='menu' href='jr.dungeon.entities.actions.html'>jr.dungeon.entities.actions</a></TD></TR></TABLE>
<p>
<TABLE cellspacing='0'>
<TR><TH>Name</TH><TH>method, %</TH><TH>comment, %</TH><TH>TODO</TH><TH>@see</TH></TR>

<TR><TD>jr.dungeon.entities.actions.Action</TD><TD>4</TD><TD>70.6% &nbsp; (1529/638)</TD><TD>0</TD><TD>0</TD></TR>
</TABLE>
<CODE><PRE>
<span class='code'>package jr.dungeon.entities.actions;

import jr.dungeon.Messenger;
import jr.dungeon.entities.Entity;

</span><span class='comment'>/**
 * An action which a {@link jr.dungeon.entities.EntityTurnBased turn-based entity} should perform during a turn.
 */</span><span class='code'>
public abstract class Action {
	private final ActionCallback callback;
	
</span><span class='comment'>	/**
	 * An action which a turn-based entity should perform during a turn.
	 *
	 * @param callback The {@link ActionCallback} which will be called when action-related events occur.
	 */</span><span class='code'>
	public Action(ActionCallback callback) {
		this.callback = callback;
	}
	
</span><span class='comment'>	/**
	 * Called when the {@link jr.dungeon.entities.EntityTurnBased turn-based entity} gets a chance to perform the
	 * action.
	 *
	 * @param entity The {@link Entity} which is performing the action.
	 * @param msg The {@link Messenger} which you can send information to about the action. This is typically the
	 * {@link jr.dungeon.Dungeon}. Passed for convenience.
	 */</span><span class='code'>
	public abstract void execute(Entity entity, Messenger msg);
	
</span><span class='comment'>	/**
	 * Calls the {@link ActionCallback}'s {@link ActionCallback#beforeRun(Entity)} callback.
	 *
 	 * @param entity The entity from {@link #execute(Entity, Messenger)}.
	 */</span><span class='code'>
	public void runBeforeRunCallback(Entity entity) {
		if (callback != null) {
			callback.beforeRun(entity);
		}
	}
	
</span><span class='comment'>	/**
	 * Calls the {@link ActionCallback}'s {@link ActionCallback#onComplete(Entity)}} callback.
	 *
	 * @param entity The entity from {@link #execute(Entity, Messenger)}.
	 */</span><span class='code'>
	public void runOnCompleteCallback(Entity entity) {
		if (callback != null) {
			callback.onComplete(entity);
		}
	}
	
</span><span class='comment'>	/**
	 * Custom action callback handler. Use this to perform anything when something happens related to the action.
	 */</span><span class='code'>
	public interface ActionCallback {
</span><span class='comment'>		/**
		 * Called when the action has been completed. The turn has not necessarily been completed yet.
		 *
		 * @param entity The entity which performed the action.
		 */</span><span class='code'>
		default void onComplete(Entity entity) {}
		
</span><span class='comment'>		/**
		 * Called before the action has begun. The turn has not necessarily been completed yet.
		 *
		 * @param entity The entity which is going to perform the action.
		 */</span><span class='code'>
		default void beforeRun(Entity entity) {}
	}
	
</span><span class='comment'>	/**
	 * An {@link ActionCallback} handler with only the {@link ActionCallback#onComplete(Entity) onComplete} callback
	 * for convenience.
	 *
	 * This is a {@link FunctionalInterface}, so it can be used with a lambda function. Example usage:
	 * &lt;pre>&lt;code>
	 * entity.setAction(new ActionX(..., (Action.CompleteCallback) entity -> { doSomething() })
	 * &lt;/code>&lt;/pre>
 	 */</span><span class='code'>
	@FunctionalInterface
	public interface CompleteCallback extends ActionCallback {
		@Override
		void onComplete(Entity entity);
	}
	
</span><span class='comment'>	/**
	 * An {@link ActionCallback} handler that does nothing for convenience. You can also pass &lt;code>null&lt;/code> as the
	 * callback argument in most cases.
	 */</span><span class='code'>
	public static class NoCallback implements ActionCallback {}
}
</span>
</PRE></CODE>
</BODY>
</HTML>
