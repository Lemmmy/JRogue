<HTML>
<HEAD>
<TITLE>JDocCoverage Report - 14-Mar-2017 09:54:02</TITLE>
<link rel='stylesheet' type='text/css' href='default.css'>
</HEAD>
<BODY>
<TABLE cellspacing='0' class='header'><TR><TD class='title'>JDocCoverage Report - 14-Mar-2017 09:54:02</TD></TR>
<TR><TD class='menu'><a class='menu' href='index.html'>Overview</a> | <a class='menu' href='jr.utils.html'>jr.utils</a></TD></TR></TABLE>
<p>
<TABLE cellspacing='0'>
<TR><TH>Name</TH><TH>method, %</TH><TH>comment, %</TH><TH>TODO</TH><TH>@see</TH></TR>

<TR><TD>jr.utils.SerialisationUtils</TD><TD>2</TD><TD>0.0% &nbsp; (0/889)</TD><TD>0</TD><TD>0</TD></TR>
</TABLE>
<CODE><PRE>
<span class='code'>package jr.utils;

import jr.JRogue;

import java.io.*;
import java.util.Arrays;
import java.util.Optional;

public class SerialisationUtils {
	public static Optional&lt;byte[]> serialiseBooleanArray(Boolean[] arr) {
		try (
			ByteArrayOutputStream bos = new ByteArrayOutputStream();
			DataOutputStream dos = new DataOutputStream(bos)
		) {
			Arrays.stream(arr).forEach(t -> {
				try {
					dos.writeBoolean(t);
				} catch (IOException e) {
					JRogue.getLogger().error("Error serialising boolean array:");
					JRogue.getLogger().error(e);
				}
			});
			
			dos.flush();
			
			return Optional.of(bos.toByteArray());
		} catch (IOException e) {
			JRogue.getLogger().error("Error serialising boolean array:");
			JRogue.getLogger().error(e);
		}
		
		return Optional.empty();
	}
	
	public static Boolean[] unserialiseBooleanArray(byte[] bytes, int count) {
		Boolean[] out = new Boolean[count];
		
		try (
			ByteArrayInputStream bis = new ByteArrayInputStream(bytes);
			DataInputStream dis = new DataInputStream(bis)
		) {
			for (int i = 0; i &lt; count; i++) {
				out[i] = dis.readBoolean();
			}
		} catch (IOException e) {
			JRogue.getLogger().error("Error unserialising boolean array:");
			JRogue.getLogger().error(e);
		}
		
		return out;
	}
}
</span>
</PRE></CODE>
</BODY>
</HTML>
